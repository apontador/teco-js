<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>TecoJS - Tests</title>
    <link href="../node_modules/mocha/mocha.css" rel="stylesheet" media="screen" />
    <script src="../node_modules/sinon/lib/sinon.js"></script>
    <script src="../node_modules/sinon/lib/sinon/spy.js"></script>
    <script src="../node_modules/expect.js/expect.js"></script>
    <script src="../node_modules/mocha/mocha.js"></script>
    <script src="../components/requirejs/require.js"></script>
    <script type="text/javascript">
        var specs = [
            "spec/apontador/text/limit.spec",
            "spec/apontador/parser/url.spec",
            "spec/apontador/parser/querystring.spec",
            "spec/apontador/tracker/gm.spec",
            "spec/apontador/string/string.spec",
            "spec/apontador/string/mask.spec",
            "spec/apontador/polyfill/trim.spec",
            "spec/apontador/polyfill/placeholder.spec",
            "spec/apontador/browser/detector.spec",
            "spec/apontador/browser/event.spec",
            "spec/apontador/retarget/localTracker.spec",
            "spec/apontador/tracker/mediator.spec",
            "spec/apontador/tracker/event/type/dispatcher.spec",
            "spec/apontador/tracker/event/subscriber/localTracker.spec",
            "spec/apontador/tracker/event/subscriber/googleAnalytics.spec"
        ];

        var expect, assert;

        require.config({
            baseUrl: "../",
            //timestamp to avoid cache
            urlArgs: "v="+(new Date()).getTime(),
            paths: {
                'jquery': 'components/jquery/jquery',
                'jquery.cookie': 'components/jquery.cookie/jquery.cookie'
            },
            shim: {
                'jquery': {
                    exports: 'jQuery',
                    init: function () {
                        return this.jQuery.noConflict();
                    }
                },
                'jquery.cookie': {
                    deps: ['jquery'],
                    exports: 'jQuery.fn.cookie'
                }
            }
        });


        mocha.setup('bdd');
        mocha.globals(['jQuery', '$', 'localTracker', 'pageTracker']);

        require( specs, function () {
            setTimeout(mocha.run, 300);
        });
    </script>
  </head>
  <body>
    <div id="mocha"></div>
    <div style="display:none">
        <input id="inputTest" placeholder="I am placeholder" type="text" class="default" />
        <input id="passwordTest" placeholder="I am placeholder" type="password" class="default" />
    </div>
  </body>
</html>
